<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <!-- <script src='main.js'></script> -->
</head>
<body>
    <input type="text" name="input" id="input"><br>
    <button id="click" onclick="start();">Start</button><br>
    <button id="click" onclick="stop();">Click</button>
    <button id="click" onclick="sendMessage();">Send</button><br>
    <h2>WebSocket Test</h2>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script>
    <script>
//       var socket = io('ws://127.0.0.1:8080/move', {transports: ['websocket']});

// // listen for messages
// socket.on('chat message', function(message) {

//     alert('new message');
//     alert(message);
// });

// socket.on('connect', function () {

//     console.log('socket connected');
// });

// function sendMessage() {
//     socket.emit('right', '{"a": 1, "b": 2}');
// }
var socket = new WebSocket("ws://127.0.0.1:8080/move");
function stop() {
    
}
socket.onopen = () => {
    alert("Соединение установлено!");
}
socket.onclose = () => {
    alert("Соединение оборвалось");
}
socket.onmessage = (event) => {
    var human = JSON.parse(event.data);
    alert(`My name is ${human.name} and my id = ${human.id}`);
}
function sendMessage() {
    socket.send(JSON.stringify({id: 6, name: 'Igor'}));    
}
    </script>
</body>
</html>